#!/bin/sh
# Simple script to auto-start the application with Docker

# This script will:
# 1. Pull the latest image
# 2. Run the container with port mapping
# 3. Try to open the application in the browser

echo "Starting Express Application..."

# Pull the latest image
docker pull vaibhavgabani/express-app:latest

# Run the container
docker run -d --rm -p 3010:3000 --name express-app vaibhavgabani/express-app:latest

echo "Application started! Opening browser..."

# Try to open browser based on operating system
case "$(uname -s)" in
   Darwin)
     open http://localhost:3010
     ;;
   Linux)
     if command -v xdg-open > /dev/null; then
       xdg-open http://localhost:3010
     elif command -v gnome-open > /dev/null; then
       gnome-open http://localhost:3010
     fi
     ;;
   CYGWIN*|MINGW*|MSYS*)
     start http://localhost:3010
     ;;
esac

echo "Express app is running at: http://localhost:3010"
